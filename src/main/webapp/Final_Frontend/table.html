<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="icon" href="Final_Frontend/lab_icon.png">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css"
        integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
    <title>Lab Inventory Syatem</title>
    <script src="https://code.jquery.com/jquery-3.6.0.js"
        integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"
        integrity="sha256-6XMVI0zB8cRzfZjqKcD01PBsAy3FlDASrlC8SxCpInY=" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>

<body>


    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">

            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto"></ul>
                <ul class="navbar-nav">
                    <li class="nav-item active">
                        <a class="nav-link" href="/homePage">Home</a>
                    </li>
                    <li class="nav-item active">
                        <a class="nav-link" href="/logout">Logout</a>
                    </li>

                </ul>

            </div>
        </div>
    </nav>


    <div style="width: 90%; margin:auto">

        <table class="table table-striped">
            <thead>
                <tr>
                    <th class="col-sm-1" scope="col">user Id</th>
                    <th class="col-sm-1" scope="col">Name</th>
                    <th class="col-sm-1" scope="col">Date of Birth</th>
                    <th class="col-sm-1" scope="col">Gender</th>
                    <th class="col-sm-2" scope="col">Address</th>
                    <th class="col-sm-1" scope="col">Phone Number</th>
                    <th class="col-sm-2" scope="col">Email Id</th>
                    <th class="col-sm-1" scope="col">Modify</th>
                    <th class="col-sm-1" scope="col">Delete</th>
                </tr>
            </thead>

            <tbody id="tbody">
                <tr>
                    <th class="userId">1</th>
                    <td class="name">Souvik Dhang</td>
                    <td class="dob">13/01/2001</td>
                    <td class="gender">male</td>
                    <td class="address">22/1, sri ram dhang road, salkia, howrah - 711106</td>
                    <td class="phone_number">6290720902</td>
                    <td class="emailId">souvik.dhang@gmail.com</td>
                    <td style="width: 20;"><button class="modify btn btn-dark">Modify</button></td>
                    <td style="width: 20;"><button class="delete btn btn-dark">Delete</button></td>

                </tr>
                <tr class="drop" style="display: none;">

                    <td class="uid">a</td>

                    <td class="nameTd"><input class="form-check-input nameCheck" type="checkbox">
                        <input disabled class="form-control nameInput" style="padding-top: auto;" type="text"
                            placeholder="">
                    </td>

                    <td class="dobTd"><input class="form-check-input dobCheck" type="checkbox">
                        <input disabled class="form-control dobInput" style="padding-top: auto;" type="text"
                            placeholder="">
                    </td>

                    <td class="genderTd"><input class="form-check-input genderCheck" type="checkbox">
                        <input disabled class="form-control genderInput" style="padding-top: auto;" type="text"
                            placeholder="">
                    </td>

                    <td class="addresstd"><input class="form-check-input addressCheck" type="checkbox">
                        <input disabled class="form-control addressInput"
                            style="padding-top: auto; overflow-wrap: break-word;" type="text" placeholder="">
                    </td>

                    <td class="phone_numberTd"><input class="form-check-input phone_numberCheck" type="checkbox">
                        <input disabled class="form-control phone_numberInput" style="padding-top: auto;" type="text"
                            placeholder="">
                    </td>

                    <td class="emailTd"><input class="form-check-input emailIdCheck" type="checkbox">
                        <input disabled class="form-control emailIdInput" style="padding-top: auto;" type="text"
                            placeholder="">
                    </td>

                    <td><button class="submitModify btn btn-secondary">Confirm</button></td>
                    <td><button class="cancelModify btn btn-secondary">Reset</button></td>

                </tr>
                <tr>
                    <th class="userId">1</th>
                    <td class="name">Souvik Dhang</td>
                    <td class="dob">13/01/2001</td>
                    <td class="gender">male</td>
                    <td class="address">22/1, sri ram dhang road, salkia, howrah - 711106</td>
                    <td class="phone_number">6290720902</td>
                    <td class="emailId">souvik.dhang@gmail.com</td>
                    <td style="width: 20;"><button class="modify btn btn-dark">Modify</button></td>
                    <td style="width: 20;"><button class="delete btn btn-dark">Delete</button></td>

                </tr>

            </tbody>
        </table>
    </div>




    <script>
        $(document).ready(function () {
            $(".modify").click(function () {

                $(this).parent().parent().next().find(".uid").html($(this).parent().parent().find(".userId").text());
                $(this).parent().parent().next().find(".nameInput").attr("placeholder", ($(this).parent().parent().find(".name").text()));
                $(this).parent().parent().next().find(".dobInput").attr("placeholder", ($(this).parent().parent().find(".dob").text()));
                $(this).parent().parent().next().find(".genderInput").attr("placeholder", ($(this).parent().parent().find(".gender").text()));
                $(this).parent().parent().next().find(".addressInput").attr("placeholder", ($(this).parent().parent().find(".address").text()));
                $(this).parent().parent().next().find(".phone_numberInput").attr("placeholder", ($(this).parent().parent().find(".phone_number").text()));
                $(this).parent().parent().next().find(".emailIdInput").attr("placeholder", ($(this).parent().parent().find(".emailId").text()));

                $(this).parent().parent().next().slideToggle();
            });
        });

        $(document).ready(function () {
            $(".form-check-input").click(function () {
                if ($(this).is(":checked") == false) { $(this).parent().find(".form-control").prop("disabled", "true") }
                if ($(this).is(":checked") == true) { $(this).parent().find(".form-control").removeAttr("disabled") }

            });
        });    
    </script>


    <!-- <script>



    // document.querySelector('#tbody').innerHTML=getAllUsers();
    function getAllUser()
    {
        axios
        ({
            method: 'post',
            url: 'http://localhost:3000/viewAllUser?userType=customer'
        }) 
        .then(response => response.data)
        .then((data)=>
        {  
            console.log(data);
            var print = '';
            data.forEach(element => {
            console.log(element)
            element = element||{};
            print +=  
            '<tr><th scope="row">'+element.user_id+'</th><td>'+element.name+'</td><td>'+element.dob+'</td><td>'+element.gender+'</td><td>'+element.address+'</td><td>'+element.phone_number+'</td><td>'+element.email+'</td><td><button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1" data-toggle="dropdown"' +'aria-haspopup="true" aria-expanded="false">modify</button>'
                +'<div id="virtualMachine" class="dropdown-menu" aria-labelledby="dropdownMenuButton" >'
                    +'<option value="0" class="dropdown-item" href="#">Physical Server</option>'+
                    +'<option value="1" class="dropdown-item" href="#">Virtual Machine</option>'+
                +'</div></td></tr>';
            })
            document.querySelector('#tbody').innerHTML=print;
        })
    }
    getAllUser();
    // address: "address"
    // dob: "2001-01-13"
    // email: "email5@domain.com"
    // gender: "male"
    // name: "user3"
    // phone_number: "1234567890"
    // user_id: 28


        // var serverStatus;
        // var virtualMachine;
        // $( document ).ready(function() {
        //     $('#serverStatus option').click(function(){
        //         serverStatus = $(this).text();
        //         $(this).parents('.dropdown').find('.dropdown-toggle').html(serverStatus);
        //     })
             
        //     $('#virtualMachine option').click(function(){
        //         virtualMachine = $(this).text();
        //         $(this).parents('.dropdown').find('.dropdown-toggle').html(virtualMachine); 
        //     })
        // });



    // function callLogin(){

    //     var orgName = document.getElementById("orgName").value;
    //     var labName = document.getElementById("labName").value;
    //     var serverName = document.getElementById("serverName").value;
    //     var rackNumber = document.getElementById("rackNumber").value;
    //     var serverIpAddress = document.getElementById("serverIpAddress").value;
    //     var loginId = document.getElementById("loginId").value;
    //     var loginPassword = document.getElementById("loginPassword").value;
    //     if(serverStatus==='Operational, Not-In-Use')serverStatus=0;
    //     if(serverStatus==='Operational, In-Use')serverStatus=1;
    //     if(serverStatus==='Non-Operational')serverStatus=2;
    //     if(virtualMachine==='Physical Server')virtualMachine=0;
    //     if(virtualMachine==='Virtual Machine')virtualMachine=1;

    //     serverStatus=serverStatus-0;
    //     virtualMachine=virtualMachine-0;
    //     var serverPower = document.getElementById("serverPower").value-0;

    //     var url = 'http://localhost:3000/addEquipment?orgName='+orgName+'&labName='+labName+'&rackNumber='+rackNumber+'&serverName='+serverName+'&serverIPAddress='+serverIpAddress+'&loginID='+loginId+'&loginPassword='+loginPassword+'&virtualMachine='+virtualMachine+'&serverStatus='+serverStatus+'&serverPower='+serverPower
        
        
    //     axios({
    //         method: 'post',
    //         url: url,

    //         }) 
    //         .then(response => response.data)
    //             .then((data)=>{
    //                 console.log(data);
    //                 if(data==='loggedIn')
    //                 {
    //                     location.replace('http://localhost:3000/homePage?userId='+ userId)
    //                 }
    //                 else if(data===`userNotFound`)
    //                 {
    //                     document.querySelector('#setInvalid').innerHTML='User not found';
    //                     document.querySelector('#setInvalid').style.display='block';
    //                 }
    //                 else if(data===`wrongPassword`)
    //                 {
    //                     document.querySelector('#setInvalid').innerHTML='Invalid Password';
    //                     document.querySelector('#setInvalid').style.display='block';
    //                 }
    //             })

    //             // .catch(
    //             //     (e) => {
    //             //         document.querySelector('#setInvalid').style.display='block';
    //             //     }
    //             // )
                
    // }

</script> -->



    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>
</body>

</html>